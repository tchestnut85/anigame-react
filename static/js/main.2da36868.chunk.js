(this["webpackJsonpanigame-react"]=this["webpackJsonpanigame-react"]||[]).push([[0],{10:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);a(10);var c=a(3),r=a(2),s=a.n(r),n=a(0),i=function(e){var t=e.type,a=e.icon,c=e.message,r=e.subMessage,s=void 0===r?"":r,i=e.closeModal;return Object(n.jsxs)("div",{id:t,className:"modal is-active is-clipped has-text-centered has-background-grey-lighter",children:[Object(n.jsx)("div",{id:"".concat(t,"-bg"),className:"modal-background"}),Object(n.jsxs)("div",{className:"modal-card",children:[Object(n.jsxs)("header",{className:"modal-card-head has-background-grey-lighter",children:[Object(n.jsx)("p",{className:"modal-card-title has-text-black-bis",children:c}),Object(n.jsx)("button",{id:"".concat(t,"-btn"),className:"delete","aria-label":"close",onClick:i})]}),Object(n.jsx)("i",{className:"".concat(a," fa-5x has-text-black-bis has-background-grey-lighter")}),Object(n.jsx)("section",{id:"".concat(t,"-text"),className:"modal-card-body has-text-black-bis has-background-grey-lighter",children:Object(n.jsx)("p",{children:s})}),Object(n.jsx)("footer",{className:"modal-card-foot has-background-grey-lighter"})]})]})},o=a(4),l=a.n(o),d=a(5),u="SET_QUERY",m="CLEAR_DATA",j="SET_GAME_DATA",b="SET_GAME_SCORE",h="SET_ANIME_DATA",f="SET_STREAM_URL",x="CLEAR_STREAM_URL_DATA",p="SET_ERROR",O="CLEAR_ERROR",g="SET_GAME_LOADING",v="CLEAR_GAME_LOADING",y="SET_ANIME_LOADING",N="CLEAR_ANIME_LOADING",k="LOAD_STORAGE",w="SET_STORAGE",S="CLEAR_STORAGE",T=function(e){return fetch("".concat("https://shielded-sea-51175.herokuapp.com","/http://www.gamespot.com/api/games/?api_key=").concat("e1c898ffd3a1cccaf5ff6ef297f51a43f05238a3","&filter=name:").concat(e,"&format=json&limit=6&sort=release_date:asc"))},E=function(e){return fetch("".concat("https://shielded-sea-51175.herokuapp.com","/http://www.gamespot.com/api/reviews/?api_key=").concat("e1c898ffd3a1cccaf5ff6ef297f51a43f05238a3","&filter=title:").concat(e,"&format=json"))},_=function(e){return fetch("https://kitsu.io/api/edge/anime/".concat(e,"/streaming-links"))},A={game:"game",anime:"anime"},C=[1,2,3,4,5],L=function(e){var t=function(e,t){switch(e){case A.game:return Math.round(t/2);case A.anime:return Math.round(t/20);default:return null}}(e.reviewType,e.rawScore);return Object(n.jsx)(n.Fragment,{children:t?C.map((function(e,a){return Object(n.jsx)("i",{className:e<=t?"fas fa-star":"far fa-star","aria-hidden":"true"},a)})):C.map((function(e,t){return Object(n.jsx)("i",{className:"far fa-question-circle"},t)}))})},R=a(12),M=a.n(R),G=function(e){return e.split(" ").map((function(e){return function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}(e)})).join(" ")},I={type:"empty-alert",icon:"far fa-frown-open",message:"You didn't search for anything...",subMessage:"Try entering a game title."},D={type:"anime-alert",icon:"fas fa-sad-cry",message:"No Anime found for that game...",subMessage:"Check out the game results or search again."},U=a(1),q=a(14),z=a(6),Y=function(e,t){var a=t.type,c=t.payload;switch(a){case u:return Object(U.a)(Object(U.a)({},e),{},{query:c});case j:return Object(U.a)(Object(U.a)({},e),{},{gameState:c});case b:return Object(U.a)(Object(U.a)({},e),{},{gameScore:c});case h:return Object(U.a)(Object(U.a)({},e),{},{animeState:c});case f:return Object(U.a)(Object(U.a)({},e),{},{animeStreamUrls:[].concat(Object(z.a)(e.animeStreamUrls),[{id:c.id,url:c.url}])});case g:return Object(U.a)(Object(U.a)({},e),{},{gameLoading:!0});case v:return Object(U.a)(Object(U.a)({},e),{},{gameLoading:!1});case y:return Object(U.a)(Object(U.a)({},e),{},{animeLoading:!0});case N:return Object(U.a)(Object(U.a)({},e),{},{animeLoading:!1});case m:return Object(U.a)(Object(U.a)({},e),{},{query:"",gameState:[],gameScore:null,animeState:[],animeStreamUrls:[],error:null,loading:!1});case p:var r=c;return Object(U.a)(Object(U.a)({},e),{},{error:r});case O:return Object(U.a)(Object(U.a)({},e),{},{error:null});case x:return Object(U.a)(Object(U.a)({},e),{},{animeStreamUrls:[]});case w:return Object(U.a)(Object(U.a)({},e),{},{savedSearches:[c].concat(Object(z.a)(e.savedSearches))});case k:return Object(U.a)(Object(U.a)({},e),{},{savedSearches:Object(z.a)(c)});case S:return Object(U.a)(Object(U.a)({},e),{},{savedSearches:[]});default:return e}};var F=["value"],J=Object(r.createContext)(),B=J.Provider,P=function(e){e.value;var t,a=Object(q.a)(e,F),s=(t={query:"",gameState:[],gameScore:null,animeState:[],animeStreamUrls:[],error:null,gameLoading:!1,animeLoading:!0,savedSearches:[]},Object(r.useReducer)(Y,t)),i=Object(c.a)(s,2),o=i[0],l=i[1];return Object(n.jsx)(B,Object(U.a)({value:[o,l]},a))},W=function(){return Object(r.useContext)(J)},K=function(){var e=W(),t=Object(c.a)(e,2),a=t[0],s=t[1],i=a.query,o=a.animeLoading,u=a.gameState,m=a.animeState,j=a.animeStreamUrls,b=D,g=function(){s({type:p,payload:b}),setTimeout((function(){s({type:O})}),3e3)},v=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:x}),e.prev=1,s({type:y}),e.next=5,fetch("https://kitsu.io/api/edge/anime?filter[text]=".concat(i));case 5:if((t=e.sent).ok){e.next=9;break}throw g(),Error("There was an error: ".concat(t.statusText," (").concat(t.status,")"));case 9:return e.next=11,t.json();case 11:a=e.sent,c=a.data,r=c.filter((function(e){return e.attributes.canonicalTitle.toLowerCase().includes(i.toLowerCase())})),!(r.length>0)&&g(),s({type:h,payload:r}),s({type:N}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,c,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:if((r=e.sent).ok){e.next=6;break}throw Error("There was an error: ".concat(r.statusText," (").concat(r.status,")"));case 6:return e.next=8,r.json();case 8:n=e.sent,s({type:f,payload:{id:t,url:null===n||void 0===n||null===(a=n.data[0])||void 0===a||null===(c=a.attributes)||void 0===c?void 0:c.url}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){u.length&&v()}),[u]),Object(r.useEffect)((function(){m.forEach((function(e){k(e.id)}))}),[o]);var w=function(e){var t=j.find((function(t){return t.id===e}));return null===t||void 0===t?void 0:t.url};return Object(n.jsx)(n.Fragment,{children:m.length&&Object(n.jsxs)("div",{id:"anime-container",children:[Object(n.jsxs)("p",{id:"anime-results",children:["Anime found for ",G(i),":"]}),Object(n.jsx)("div",{id:"results-container",className:"columns is-multiline is-centered is-vcentered is-2 mt-4",children:m.map((function(e){return Object(n.jsxs)("div",{id:"".concat(e.attributes.canonicalTitle,"-container"),className:"column anime-class anime-content search-results-anime is-two-fifths has-text-centered mx-3 my-4",children:[Object(n.jsx)("div",{className:"container has-text-centered is-size-5",id:"".concat(e.attributes.canonicalTitle,"-info"),children:Object(n.jsx)("h3",{className:"title has-text-centered is-size-3",id:"".concat(e.attributes.canonicalTitle,"-title"),children:e.attributes.canonicalTitle})}),Object(n.jsx)("div",{className:"container is-centered",id:"".concat(e.attributes.canonicalTitle,"-vid-container"),children:Object(n.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(e.attributes.youtubeVideoId,"?controls=1?controls=1"),frameBorder:"0",allowFullScreen:!0,alt:"Trailer for ".concat(e.attributes.canonicalTitle),title:"Trailer for ".concat(e.attributes.canonicalTitle),id:"".concat(e.attributes.canonicalTitle,"-video")})}),Object(n.jsxs)("div",{className:"anime-rating-stream-div columns is-vcentered container has-text-centered",children:[Object(n.jsx)("span",{id:"".concat(e.attributes.canonicalTitle,"-rating"),className:"column container has-text-right is-size-4",children:Object(n.jsx)(L,{reviewType:A.anime,rawScore:e.attributes.averageRating})}),(t=e.id,w(t)?Object(n.jsx)("div",{id:"anime-stream-".concat(e.id),className:"anime-stream column is-size-5 anime-stream-style",children:Object(n.jsxs)("a",{href:w(e.id),target:"_blank",rel:"noreferrer",children:["Watch"," ",e.attributes.canonicalTitle," ","the Animation here!"]})}):Object(n.jsx)("div",{className:"anime-stream column is-size-5 anime-stream-style",children:"Sorry, no streaming info is available for this title."}))]}),Object(n.jsx)("p",{id:"anime-description",className:"container has-text-left is-size-6"})]},"anime-result-".concat(e.id));var t}))})]})})},Q=function(e){var t=e.console,a=e.color;return Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("button",{id:t,className:"button is-large is-".concat(a," is-fullwidth ").concat(t,"-button"),children:Object(n.jsx)("span",{className:"icon",children:Object(n.jsx)("div",{className:"iconify","data-icon":"cib:".concat(t)})})})})},V=[{name:"playstation",color:"link"},{name:"xbox",color:"success"},{name:"nintendo-switch",color:"danger"},{name:"steam",color:"light"}],H=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("section",{className:"section pb-6 mb-6",children:[Object(n.jsxs)("div",{className:"has-text-centered",children:[Object(n.jsx)("h1",{id:"console-wars",className:"pb-4",children:"Console Wars"}),Object(n.jsx)("h2",{className:"pb-4",children:"Choose Your Console's Theme!"})]}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"columns",children:V.map((function(e){return Object(n.jsx)(Q,{console:"".concat(e.name),color:"".concat(e.color)},e.name)}))})})]})})},X=a.p+"static/media/made-with-bulma.672f96d0.png",Z=function(){return Object(n.jsxs)("footer",{id:"footer",className:"app-footer columns pl-5 pr-5 pt-5 pb-4 has-background-grey-lighter",children:[Object(n.jsxs)("div",{className:"column is-4",children:[Object(n.jsxs)("div",{className:"footer-info container columns mb-0 has-text-centered",children:[Object(n.jsx)("i",{className:"column is-2 fas fa-gamepad fa-3x"}),Object(n.jsx)("h4",{className:"column has-text-left pl-5",children:"AniGame"})]}),Object(n.jsx)("div",{id:"developers",className:"devs columns",children:Object(n.jsxs)("p",{className:"pl-4 is-size-7",children:["Developed by"," ",Object(n.jsx)("a",{href:"https://tomchestnut.dev",target:"_blank",rel:"noreferrer",children:"Tom Chestnut"})," ","and"," ",Object(n.jsx)("a",{href:"https://cfsylvester.github.io/clairesylvester.github.io/",target:"_blank",rel:"noreferrer",children:"Claire Sylvester"}),"."]})})]}),Object(n.jsx)("div",{className:"column pr-0 is-6 has-text-right",children:Object(n.jsx)("a",{href:"https://github.com/tchestnut85/anigame-react",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("i",{id:"githubIcon",className:"fab fa-github-square fa-4x"})})}),Object(n.jsxs)("div",{className:"ml-0 column is-2 has-text-centered",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("p",{className:"is-size-6",style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[Object(n.jsx)("a",{href:"https://www.gamespot.com/api/",target:"_blank",rel:"noreferrer",children:"Gamspot API"}),Object(n.jsx)("a",{href:"https://kitsu.docs.apiary.io/#introduction/questions?",target:"_blank",rel:"noreferrer",children:"Kitsu API"})]})}),Object(n.jsx)("div",{className:"has-background-grey-lighter",children:Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"https://bulma.io",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:X,alt:"Made with Bulma",width:"182",height:"40"})})})})]})]})},$=function(){var e=W(),t=Object(c.a)(e,1)[0],a=t.gameState,r=t.query,s=t.gameScore;t.gameLoading;return Object(n.jsx)(n.Fragment,{children:a.length?Object(n.jsxs)("div",{id:"game-container",children:[Object(n.jsxs)("p",{id:"game-results",children:["Games found for ",G(r),":"]}),Object(n.jsx)("div",{id:"game-columns-container",className:"columns is-multiline is-centered is-vcentered is-2 mt-4",children:a.map((function(e){return Object(n.jsxs)("div",{id:"game-column","data-name":r,className:"column search-results is-two-fifths mx-3 my-4",children:[Object(n.jsxs)("div",{id:"base-search",className:"columns is-vcentered",children:[Object(n.jsx)("div",{id:"column-image",className:"game-col-img column is-one-fith is-narrow",children:Object(n.jsx)("img",{id:"game-image",src:e.image.original,className:"image",alt:"Cover Art for ".concat(e.name)})}),Object(n.jsxs)("div",{id:"game-header",className:"column has-text-centered",children:[Object(n.jsx)("h1",{className:"title",children:e.name}),Object(n.jsx)("div",{id:"game-stars",className:"container has-text-centered",children:Object(n.jsx)("h3",{className:"title has-text-centered is-size-3",children:Object(n.jsx)(L,{reviewType:A.game,rawScore:s})})})]})]}),Object(n.jsx)("div",{id:"base-click",className:"columns is-mobile",children:Object(n.jsxs)("div",{id:"column-description",className:"column has-text-centered",children:[Object(n.jsxs)("p",{children:["Release date:"," ",(t=e.release_date,M()(t).format("MMM DD, YYYY"))]}),Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:e.site_detail_url,rel:"noreferrer",target:"_blank",children:"Read More at GameSpot"})})]})})]},e.id);var t}))})]}):null})},ee=function(){return Object(n.jsx)("section",{id:"hero",className:"hero is-dark is-bold is-small project-title",children:Object(n.jsxs)("div",{className:"columns hero-body mt-6",children:[Object(n.jsx)("div",{className:"column is-one-fifth has-text-centered",children:Object(n.jsx)("i",{className:"is-white fas fa-gamepad fa-5x"})}),Object(n.jsxs)("div",{className:"hero-container column container has-text-left",children:[Object(n.jsx)("h1",{className:"title app-title",children:"AniGame"}),Object(n.jsx)("br",{}),Object(n.jsx)("h2",{className:"subtitle app-description",children:"Search for your favorite video games to find related Anime!"})]})]})})},te=function(){var e=W(),t=Object(c.a)(e,2),a=t[0].error,r=t[1];return Object(n.jsxs)("div",{className:"main-content",children:[Object(n.jsx)(ee,{}),Object(n.jsx)(H,{}),Object(n.jsx)("section",{className:"section",children:Object(n.jsxs)("div",{children:[Object(n.jsx)($,{}),Object(n.jsx)(K,{}),a&&Object(n.jsx)(i,{closeModal:function(){r({type:O})},type:null===a||void 0===a?void 0:a.type,icon:null===a||void 0===a?void 0:a.icon,message:null===a||void 0===a?void 0:a.message,subMessage:null===a||void 0===a?void 0:a.subMessage})]})}),Object(n.jsx)(Z,{})]})},ae=function(e){var t=e.classes,a=e.item,c=e.handleSearch;return Object(n.jsx)("button",{className:t,onClick:c,children:G(a)})},ce="anigame_searches",re=function(e){localStorage.setItem(ce,JSON.stringify(e))},se=function(){return JSON.parse(localStorage.getItem(ce))||[]},ne=function(e,t){se().length?re([t].concat(Object(z.a)(e))):re([t])},ie=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1],i=W(),o=Object(c.a)(i,2),h=o[0].savedSearches,f=o[1],x=I;Object(r.useEffect)((function(){var e=se();f({type:k,payload:e})}),[]);var y=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,r,n,i,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=a.trim().toLowerCase(),f({type:m}),e.prev=3,f({type:g}),""!==a){e.next=9;break}throw f({type:p,payload:x}),setTimeout((function(){f({type:O})}),3e3),Error("You must enter something to search for.");case 9:return e.next=11,T(c);case 11:return n=e.sent,e.next=14,E(c);case 14:if(i=e.sent,f({type:w,payload:c}),ne(h,c),n.ok){e.next=19;break}throw Error("There was an error: ".concat(n.statusText," (").concat(n.status,")"));case 19:if(i.ok){e.next=21;break}throw Error("There was an error: ".concat(i.statusText," (").concat(i.status,")"));case 21:return e.next=23,n.json();case 23:return o=e.sent,e.next=26,i.json();case 26:d=e.sent,f({type:u,payload:c}),f({type:j,payload:o.results}),f({type:b,payload:parseInt(null===d||void 0===d||null===(r=d.results[0])||void 0===r?void 0:r.score)}),s(""),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),console.error("There was an error: ".concat(e.t0.message));case 36:f({type:v});case 37:case"end":return e.stop()}}),e,null,[[3,33]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{id:"search-form",className:"field is-grouped",onSubmit:y,children:[Object(n.jsx)("input",{id:"search-bar",className:"searchbar-style input is-rounded",type:"text",name:"search-term",placeholder:"Game Title",onChange:function(e){return s(e.target.value)},value:a}),Object(n.jsx)("button",{id:"search-button",form:"search-form",className:"button is-black is-rounded",type:"submit",value:"Submit input",children:"Search"})]})},oe={empty:"You must enter something to search for."},le=function(){var e=I,t=W(),a=Object(c.a)(t,2),r=a[0],s=r.savedSearches,i=r.query,o=a[1],m=function(){var t=Object(d.a)(l.a.mark((function t(a){var c,r,s,n,d,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),(c=a.target.textContent.trim().toLowerCase())!==i){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,o({type:g}),""!==c){t.next=10;break}throw o({type:p,payload:e}),setTimeout((function(){o({type:O})}),3e3),Error(oe.empty);case 10:return t.next=12,T(c);case 12:return s=t.sent,t.next=15,E(c);case 15:if(n=t.sent,s.ok){t.next=18;break}throw Error("There was an error: ".concat(s.statusText," (").concat(s.status,")"));case 18:if(n.ok){t.next=20;break}throw Error("There was an error: ".concat(n.statusText," (").concat(n.status,")"));case 20:return t.next=22,s.json();case 22:return d=t.sent,t.next=25,n.json();case 25:m=t.sent,o({type:u,payload:c}),o({type:j,payload:d.results}),o({type:b,payload:parseInt(null===m||void 0===m||null===(r=m.results[0])||void 0===r?void 0:r.score)}),t.next=34;break;case 31:t.prev=31,t.t0=t.catch(4),console.error("There was an error: ".concat(t.t0.message));case 34:o({type:v});case 35:case"end":return t.stop()}}),t,null,[[4,31]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("nav",{id:"search-display",className:"nav-style navbar has-background-dark is-vcentered is-fixed-top",role:"navigation","aria-label":"main navigation",children:[Object(n.jsxs)("div",{id:"gametitle-buttons",className:"buttons",children:[Object(n.jsx)("button",{id:"delete-btn",className:"button is-danger is-rounded",onClick:function(){o({type:S}),localStorage.removeItem(ce)},children:Object(n.jsx)("span",{className:"icon is-small",children:Object(n.jsx)("i",{className:"fas fa-skull"})})}),s.length?s.map((function(e,t){return Object(n.jsx)(ae,{classes:"button game-button is-rounded is-light",onClick:m,item:e},t)})):null]}),Object(n.jsx)("div",{className:"navbar-end",children:Object(n.jsx)(ie,{})})]})};var de=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(P,{children:[Object(n.jsx)(le,{}),Object(n.jsx)(te,{})]})})},ue=a(13),me=a.n(ue);a(21).config(),me.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.2da36868.chunk.js.map