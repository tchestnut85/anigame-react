(this["webpackJsonpanigame-react"]=this["webpackJsonpanigame-react"]||[]).push([[0],{10:function(e,t,a){e.exports={container:"Loader_container__sMHLu",loader:"Loader_loader__3vySw"}},11:function(e,t,a){},14:function(e,t,a){e.exports={container:"App_container__TY8-h"}},26:function(e,t,a){"use strict";a.r(t);a(11);var c=a(2),r=a.n(c),n=a.p+"static/media/made-with-bulma.672f96d0.png",s=a(0),i=function(){return Object(s.jsxs)("footer",{id:"footer",className:"app-footer columns pl-5 pr-5 pt-5 pb-4 has-background-grey-lighter",children:[Object(s.jsxs)("div",{className:"column is-4",children:[Object(s.jsxs)("div",{className:"footer-info container columns mb-0 has-text-centered",children:[Object(s.jsx)("i",{className:"column is-2 fas fa-gamepad fa-3x"}),Object(s.jsx)("h4",{className:"column has-text-left pl-5",children:"AniGame"})]}),Object(s.jsx)("div",{id:"developers",className:"devs columns",children:Object(s.jsxs)("p",{className:"pl-4 is-size-7",children:["Developed by"," ",Object(s.jsx)("a",{href:"https://tomchestnut.dev",target:"_blank",rel:"noreferrer",children:"Tom Chestnut"})," ","and"," ",Object(s.jsx)("a",{href:"https://cfsylvester.github.io/clairesylvester.github.io/",target:"_blank",rel:"noreferrer",children:"Claire Sylvester"}),"."]})})]}),Object(s.jsx)("div",{className:"column pr-0 is-6 has-text-right",children:Object(s.jsx)("a",{href:"https://github.com/tchestnut85/anigame-react",target:"_blank",rel:"noreferrer",children:Object(s.jsx)("i",{id:"githubIcon",className:"fab fa-github-square fa-4x"})})}),Object(s.jsxs)("div",{className:"ml-0 column is-2 has-text-centered",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("p",{className:"is-size-6",style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[Object(s.jsx)("a",{href:"https://www.gamespot.com/api/",target:"_blank",rel:"noreferrer",children:"Gamspot API"}),Object(s.jsx)("a",{href:"https://kitsu.docs.apiary.io/#introduction/questions?",target:"_blank",rel:"noreferrer",children:"Kitsu API"})]})}),Object(s.jsx)("div",{className:"has-background-grey-lighter",children:Object(s.jsx)("p",{children:Object(s.jsx)("a",{href:"https://bulma.io",target:"_blank",rel:"noreferrer",children:Object(s.jsx)("img",{src:n,alt:"Made with Bulma",width:"182",height:"40"})})})})]})]})},o=a(3),l=function(e){var t=e.type,a=e.icon,c=e.message,r=e.subMessage,n=void 0===r?"":r,i=e.closeModal;return Object(s.jsxs)("div",{id:t,className:"modal is-active is-clipped has-text-centered has-background-grey-lighter",children:[Object(s.jsx)("div",{id:"".concat(t,"-bg"),className:"modal-background"}),Object(s.jsxs)("div",{className:"modal-card",children:[Object(s.jsxs)("header",{className:"modal-card-head has-background-grey-lighter",children:[Object(s.jsx)("p",{className:"modal-card-title has-text-black-bis",children:c}),Object(s.jsx)("button",{id:"".concat(t,"-btn"),className:"delete","aria-label":"close",onClick:i})]}),Object(s.jsx)("i",{className:"".concat(a," fa-5x has-text-black-bis has-background-grey-lighter")}),Object(s.jsx)("section",{id:"".concat(t,"-text"),className:"modal-card-body has-text-black-bis has-background-grey-lighter",children:Object(s.jsx)("p",{children:n})}),Object(s.jsx)("footer",{className:"modal-card-foot has-background-grey-lighter"})]})]})},d=a(4),u=a.n(d),m=a(5),j="SET_QUERY",b="CLEAR_DATA",h="SET_GAME_DATA",f="SET_GAME_SCORE",x="SET_ANIME_DATA",p="SET_STREAM_URL",O="CLEAR_STREAM_URL_DATA",g="SET_ERROR",v="CLEAR_ERROR",y="SET_GAME_LOADING",N="CLEAR_GAME_LOADING",w="SET_ANIME_LOADING",S="CLEAR_ANIME_LOADING",k="LOAD_STORAGE",T="SET_STORAGE",_="CLEAR_STORAGE",E=function(e){return fetch("".concat("https://shielded-sea-51175.herokuapp.com","/http://www.gamespot.com/api/games/?api_key=").concat("e1c898ffd3a1cccaf5ff6ef297f51a43f05238a3","&filter=name:").concat(e,"&format=json&limit=6&sort=release_date:asc"))},A=function(e){return fetch("".concat("https://shielded-sea-51175.herokuapp.com","/http://www.gamespot.com/api/reviews/?api_key=").concat("e1c898ffd3a1cccaf5ff6ef297f51a43f05238a3","&filter=title:").concat(e,"&format=json"))},L=function(e){return fetch("https://kitsu.io/api/edge/anime/".concat(e,"/streaming-links"))},C={game:"game",anime:"anime"},M=[1,2,3,4,5],R=function(e){var t=function(e,t){switch(e){case C.game:return Math.round(t/2);case C.anime:return Math.round(t/20);default:return null}}(e.reviewType,e.rawScore);return Object(s.jsx)(s.Fragment,{children:t?M.map((function(e,a){return Object(s.jsx)("i",{className:e<=t?"fas fa-star":"far fa-star","aria-hidden":"true"},a)})):M.map((function(e,t){return Object(s.jsx)("i",{className:"far fa-question-circle"},t)}))})},G=a(13),I=a.n(G),D=function(e){return e.split(" ").map((function(e){return function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}(e)})).join(" ")},U={type:"empty-alert",icon:"far fa-frown-open",message:"You didn't search for anything...",subMessage:"Try entering a game title."},Y={type:"anime-alert",icon:"fas fa-sad-cry",message:"No Anime found for that game...",subMessage:"Check out the game results or search again."},q=a(1),z=a(16),F=a(6),J=function(e,t){var a=t.type,c=t.payload;switch(a){case j:return Object(q.a)(Object(q.a)({},e),{},{query:c});case h:return Object(q.a)(Object(q.a)({},e),{},{gameState:c});case f:return Object(q.a)(Object(q.a)({},e),{},{gameScore:c});case x:return Object(q.a)(Object(q.a)({},e),{},{animeState:c});case p:return Object(q.a)(Object(q.a)({},e),{},{animeStreamUrls:[].concat(Object(F.a)(e.animeStreamUrls),[{id:c.id,url:c.url}])});case y:return Object(q.a)(Object(q.a)({},e),{},{gameLoading:!0});case N:return Object(q.a)(Object(q.a)({},e),{},{gameLoading:!1});case w:return Object(q.a)(Object(q.a)({},e),{},{animeLoading:!0});case S:return Object(q.a)(Object(q.a)({},e),{},{animeLoading:!1});case b:return Object(q.a)(Object(q.a)({},e),{},{query:"",gameState:[],gameScore:null,animeState:[],animeStreamUrls:[],error:null,loading:!1});case g:var r=c;return Object(q.a)(Object(q.a)({},e),{},{error:r});case v:return Object(q.a)(Object(q.a)({},e),{},{error:null});case O:return Object(q.a)(Object(q.a)({},e),{},{animeStreamUrls:[]});case T:var n=e.savedSearches;return Object(q.a)(Object(q.a)({},e),{},{savedSearches:n.includes(c)?Object(F.a)(e.savedSearches):[c].concat(Object(F.a)(e.savedSearches))});case k:return Object(q.a)(Object(q.a)({},e),{},{savedSearches:Object(F.a)(c)});case _:return Object(q.a)(Object(q.a)({},e),{},{savedSearches:[]});default:return e}};var B=["value"],P=Object(c.createContext)(),W=P.Provider,H=function(e){e.value;var t,a=Object(z.a)(e,B),r=(t={query:"",gameState:[],gameScore:null,animeState:[],animeStreamUrls:[],error:null,gameLoading:!1,animeLoading:!0,savedSearches:[]},Object(c.useReducer)(J,t)),n=Object(o.a)(r,2),i=n[0],l=n[1];return Object(s.jsx)(W,Object(q.a)({value:[i,l]},a))},K=function(){return Object(c.useContext)(P)},Q=function(){var e=K(),t=Object(o.a)(e,2),a=t[0],r=t[1],n=a.query,i=a.animeLoading,l=a.gameState,d=a.animeState,j=a.animeStreamUrls,b=Y,h=function(){r({type:g,payload:b}),setTimeout((function(){r({type:v})}),3e3)},f=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:O}),e.prev=1,r({type:w}),e.next=5,fetch("https://kitsu.io/api/edge/anime?filter[text]=".concat(n));case 5:if((t=e.sent).ok){e.next=9;break}throw h(),Error("There was an error: ".concat(t.statusText," (").concat(t.status,")"));case 9:return e.next=11,t.json();case 11:a=e.sent,c=a.data,s=c.filter((function(e){return e.attributes.canonicalTitle.toLowerCase().includes(n.toLowerCase())})),!(s.length>0)&&h(),r({type:x,payload:s}),r({type:S}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,c,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:if((n=e.sent).ok){e.next=6;break}throw Error("There was an error: ".concat(n.statusText," (").concat(n.status,")"));case 6:return e.next=8,n.json();case 8:s=e.sent,r({type:p,payload:{id:t,url:null===s||void 0===s||null===(a=s.data[0])||void 0===a||null===(c=a.attributes)||void 0===c?void 0:c.url}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){l.length&&f()}),[l]),Object(c.useEffect)((function(){d.forEach((function(e){y(e.id)}))}),[i]);var N=function(e){var t=j.find((function(t){return t.id===e}));return null===t||void 0===t?void 0:t.url};return Object(s.jsx)(s.Fragment,{children:d.length?Object(s.jsxs)("div",{id:"anime-container",children:[Object(s.jsxs)("p",{id:"anime-results",children:["Anime found for ",D(n),":"]}),Object(s.jsx)("div",{id:"results-container",className:"columns is-multiline is-centered is-vcentered is-2 mt-4",children:d.map((function(e){return Object(s.jsxs)("div",{id:"".concat(e.attributes.canonicalTitle,"-container"),className:"column anime-class anime-content search-results-anime is-two-fifths has-text-centered mx-3 my-4",children:[Object(s.jsx)("div",{className:"container has-text-centered is-size-5",id:"".concat(e.attributes.canonicalTitle,"-info"),children:Object(s.jsx)("h3",{className:"title has-text-centered is-size-3",id:"".concat(e.attributes.canonicalTitle,"-title"),children:e.attributes.canonicalTitle})}),Object(s.jsx)("div",{className:"container is-centered",id:"".concat(e.attributes.canonicalTitle,"-vid-container"),children:Object(s.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(e.attributes.youtubeVideoId,"?controls=1?controls=1"),frameBorder:"0",allowFullScreen:!0,alt:"Trailer for ".concat(e.attributes.canonicalTitle),title:"Trailer for ".concat(e.attributes.canonicalTitle),id:"".concat(e.attributes.canonicalTitle,"-video")})}),Object(s.jsxs)("div",{className:"anime-rating-stream-div columns is-vcentered container has-text-centered",children:[Object(s.jsx)("span",{id:"".concat(e.attributes.canonicalTitle,"-rating"),className:"column container has-text-right is-size-4",children:Object(s.jsx)(R,{reviewType:C.anime,rawScore:e.attributes.averageRating})}),(t=e.id,N(t)?Object(s.jsx)("div",{id:"anime-stream-".concat(e.id),className:"anime-stream column is-size-5 anime-stream-style",children:Object(s.jsxs)("a",{href:N(e.id),target:"_blank",rel:"noreferrer",children:["Watch"," ",e.attributes.canonicalTitle," ","the Animation here!"]})}):Object(s.jsx)("div",{className:"anime-stream column is-size-5 anime-stream-style",children:"Sorry, no streaming info is available for this title."}))]}),Object(s.jsx)("p",{id:"anime-description",className:"container has-text-left is-size-6"})]},"anime-result-".concat(e.id));var t}))})]}):null})},V=function(e){var t=e.console,a=e.color;return Object(s.jsx)("div",{className:"column",children:Object(s.jsx)("button",{id:t,className:"button is-large is-".concat(a," is-fullwidth ").concat(t,"-button"),children:Object(s.jsx)("span",{className:"icon",children:Object(s.jsx)("div",{className:"iconify","data-icon":"cib:".concat(t)})})})})},X=[{name:"playstation",color:"link"},{name:"xbox",color:"success"},{name:"nintendo-switch",color:"danger"},{name:"steam",color:"light"}],Z=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("section",{className:"section pb-6 mb-6",children:[Object(s.jsxs)("div",{className:"has-text-centered",children:[Object(s.jsx)("h1",{id:"console-wars",className:"pb-4",children:"Console Wars"}),Object(s.jsx)("h2",{className:"pb-4",children:"Choose Your Console's Theme!"})]}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"columns",children:X.map((function(e){return Object(s.jsx)(V,{console:"".concat(e.name),color:"".concat(e.color)},e.name)}))})})]})})},$=function(){var e=K(),t=Object(o.a)(e,1)[0],a=t.gameState,c=t.query,r=t.gameScore;return Object(s.jsx)(s.Fragment,{children:a.length?Object(s.jsxs)("div",{id:"game-container",children:[Object(s.jsxs)("p",{id:"game-results",children:["Games found for ",D(c),":"]}),Object(s.jsx)("div",{id:"game-columns-container",className:"columns is-multiline is-centered is-vcentered is-2 mt-4",children:a.map((function(e){return Object(s.jsxs)("div",{id:"game-column","data-name":c,className:"column search-results is-two-fifths mx-3 my-4",children:[Object(s.jsxs)("div",{id:"base-search",className:"columns is-vcentered",children:[Object(s.jsx)("div",{id:"column-image",className:"game-col-img column is-one-fith is-narrow",children:Object(s.jsx)("img",{id:"game-image",src:e.image.original,className:"image",alt:"Cover Art for ".concat(e.name)})}),Object(s.jsxs)("div",{id:"game-header",className:"column has-text-centered",children:[Object(s.jsx)("h1",{className:"title",children:e.name}),Object(s.jsx)("div",{id:"game-stars",className:"container has-text-centered",children:Object(s.jsx)("h3",{className:"title has-text-centered is-size-3",children:Object(s.jsx)(R,{reviewType:C.game,rawScore:r})})})]})]}),Object(s.jsx)("div",{id:"base-click",className:"columns is-mobile",children:Object(s.jsxs)("div",{id:"column-description",className:"column has-text-centered",children:[Object(s.jsxs)("p",{children:["Release date:"," ",(t=e.release_date,I()(t).format("MMM DD, YYYY"))]}),Object(s.jsx)("p",{children:Object(s.jsx)("a",{href:e.site_detail_url,rel:"noreferrer",target:"_blank",children:"Read More at GameSpot"})})]})})]},e.id);var t}))})]}):null})},ee=function(){return Object(s.jsx)("section",{id:"hero",className:"hero is-dark is-bold is-small project-title",children:Object(s.jsxs)("div",{className:"columns hero-body mt-6",children:[Object(s.jsx)("div",{className:"column is-one-fifth has-text-centered",children:Object(s.jsx)("i",{className:"is-white fas fa-gamepad fa-5x"})}),Object(s.jsxs)("div",{className:"hero-container column container has-text-left",children:[Object(s.jsx)("h1",{className:"title app-title",children:"AniGame"}),Object(s.jsx)("br",{}),Object(s.jsx)("h2",{className:"subtitle app-description",children:"Search for your favorite video games to find related Anime!"})]})]})})},te=a(10),ae=a.n(te),ce=function(){return Object(s.jsx)("div",{className:ae.a.container,children:Object(s.jsx)("div",{className:ae.a.loader})})},re=function(){var e=K(),t=Object(o.a)(e,2),a=t[0],c=a.error,r=a.gameLoading,n=t[1];return Object(s.jsxs)("div",{className:"main-content",children:[Object(s.jsx)(ee,{}),Object(s.jsx)(Z,{}),r&&Object(s.jsx)(ce,{}),Object(s.jsx)("section",{className:"section",children:Object(s.jsxs)("div",{children:[Object(s.jsx)($,{}),Object(s.jsx)(Q,{}),c?Object(s.jsx)(l,{closeModal:function(){n({type:v})},type:c.type,icon:c.icon,message:c.message,subMessage:c.subMessage}):null]})})]})},ne=function(e){var t=e.classes,a=e.item,c=e.handleSearch;return Object(s.jsx)("button",{className:t,onClick:c,children:D(a)})},se="anigame_searches",ie=function(e){localStorage.setItem(se,JSON.stringify(e))},oe=function(){return JSON.parse(localStorage.getItem(se))||[]},le=function(e,t){var a=oe();a.includes(t)||(a.length?ie([t].concat(Object(F.a)(e))):ie([t]))},de=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=K(),i=Object(o.a)(n,2),l=i[0].savedSearches,d=i[1],x=U;Object(c.useEffect)((function(){var e=oe();d({type:k,payload:e})}),[]);var p=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,n,s,i,o,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=a.trim().toLowerCase(),d({type:b}),e.prev=3,d({type:y}),""!==a){e.next=9;break}throw d({type:g,payload:x}),setTimeout((function(){d({type:v})}),3e3),Error("You must enter something to search for.");case 9:return e.next=11,E(c);case 11:return s=e.sent,e.next=14,A(c);case 14:if(i=e.sent,d({type:T,payload:c}),le(l,c),s.ok){e.next=19;break}throw Error("There was an error: ".concat(s.statusText," (").concat(s.status,")"));case 19:if(i.ok){e.next=21;break}throw Error("There was an error: ".concat(i.statusText," (").concat(i.status,")"));case 21:return e.next=23,s.json();case 23:return o=e.sent,e.next=26,i.json();case 26:m=e.sent,d({type:j,payload:c}),d({type:h,payload:o.results}),d({type:f,payload:parseInt(null===m||void 0===m||null===(n=m.results[0])||void 0===n?void 0:n.score)}),r(""),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),console.error("There was an error: ".concat(e.t0.message));case 36:d({type:N});case 37:case"end":return e.stop()}}),e,null,[[3,33]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("form",{id:"search-form",className:"field is-grouped",onSubmit:p,children:[Object(s.jsx)("input",{id:"search-bar",className:"searchbar-style input is-rounded",type:"text",name:"search-term",placeholder:"Game Title",onChange:function(e){return r(e.target.value)},value:a}),Object(s.jsx)("button",{id:"search-button",form:"search-form",className:"button is-black is-rounded",type:"submit",value:"Submit input",children:"Search"})]})},ue={empty:"You must enter something to search for."},me=function(){var e=U,t=K(),a=Object(o.a)(t,2),c=a[0],r=c.savedSearches,n=c.query,i=a[1],l=function(){var t=Object(m.a)(u.a.mark((function t(a){var c,r,s,o,l,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),(c=a.target.textContent.trim().toLowerCase())!==n){t.next=4;break}return t.abrupt("return");case 4:if(i({type:b}),t.prev=5,i({type:y}),""!==c){t.next=11;break}throw i({type:g,payload:e}),setTimeout((function(){i({type:v})}),3e3),Error(ue.empty);case 11:return t.next=13,E(c);case 13:return s=t.sent,t.next=16,A(c);case 16:if(o=t.sent,s.ok){t.next=19;break}throw Error("There was an error: ".concat(s.statusText," (").concat(s.status,")"));case 19:if(o.ok){t.next=21;break}throw Error("There was an error: ".concat(o.statusText," (").concat(o.status,")"));case 21:return t.next=23,s.json();case 23:return l=t.sent,t.next=26,o.json();case 26:d=t.sent,i({type:j,payload:c}),i({type:h,payload:l.results}),i({type:f,payload:parseInt(null===d||void 0===d||null===(r=d.results[0])||void 0===r?void 0:r.score)}),t.next=35;break;case 32:t.prev=32,t.t0=t.catch(5),console.error("There was an error: ".concat(t.t0.message));case 35:i({type:N});case 36:case"end":return t.stop()}}),t,null,[[5,32]])})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsxs)("nav",{id:"search-display",className:"nav-style navbar has-background-dark is-vcentered is-fixed-top",role:"navigation","aria-label":"main navigation",children:[Object(s.jsxs)("div",{id:"gametitle-buttons",className:"buttons",children:[Object(s.jsx)("button",{id:"delete-btn",className:"button is-danger is-rounded",onClick:function(){i({type:_}),localStorage.removeItem(se)},children:Object(s.jsx)("span",{className:"icon is-small",children:Object(s.jsx)("i",{className:"fas fa-skull"})})}),r.length?r.map((function(e,t){return Object(s.jsx)(ne,{classes:"button game-button is-rounded is-light",handleSearch:l,item:e},t)})):null]}),Object(s.jsx)("div",{className:"navbar-end",children:Object(s.jsx)(de,{})})]})},je=a(14),be=a.n(je);var he=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(H,{children:Object(s.jsxs)("div",{className:be.a.container,children:[Object(s.jsx)(me,{}),Object(s.jsx)(re,{}),Object(s.jsx)(i,{})]})})})},fe=a(15),xe=a.n(fe);a(23).config(),xe.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(he,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.31f03a96.chunk.js.map